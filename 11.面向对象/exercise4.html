<!DOCTYPE html>
<html>
  <script>
    var x = 0;
    var foo = {
      x: 1,
      bar: function () {
        console.log(this.x);
        var that = this;
        return function () {
          console.log(this.x);
          console.log(that.x);
        };
      },
    };

    foo.bar(); // 1
    foo.bar()(); // 1, 0, 1
  </script>
</html>
