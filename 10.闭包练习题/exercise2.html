<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button>click me!</button>
  <button>click me!</button>
  <button>click me!</button>
  <button>click me!</button>
  <button>click me!</button>
</body>
<script>
  // 题目：页面上五个完全相同的按钮，点哪个按钮，让按钮弹出自己是第几个 - 使用es5
  var btns = document.getElementsByTagName("button");
  for(var i = 0; i < btns.length; i++) {
    // 遍历过程中，仅将时间处理函数复制给某个按钮的onclick属性，保存起来
    // 而不是调用函数！所以，不会读取函数的中内容，也不会读取i
    // btns[i].onclick= function(){
    //   alert(i)
    // }

    (function(i){ // 循环几次，妈妈就调用几次
      // var i; 形参相当于局部变量
      btns[i].onclick = function() {
        // 每调用一次妈妈，就创建一个孩子函数，
        // 并将本次传入的i值，放在局部变量中包成红包给孩子专属使用
        alert(i)
      }
    })(i) // 匿名函数调用时，也可以传入参数i，而原始类型值传参，是复制副本的意思
    // 将外部循环变量i的临时值，赋值给妈妈中的局部变量i，被孩子永久保存起来。
  }

  // 在es6中我们可以使用let，
  // let等同于匿名自调，
  // 它和for循环在一个会默认我们需要使用到i这个循环变量
  // 因此会把它作为参数传给匿名自执行函数，如下被注释掉的部分代码。
  for(let i = 0; i < btns.length; i ++) {
    // (function(i){
      btns[i].onclick = function(){
        alert(i);
      }
    // })(i)
  }
</script>
</html>